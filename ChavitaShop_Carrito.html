<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Carrito de Compras</title>
  <style>
    body { background: #fff; font-family: sans-serif; padding: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    button { padding: 5px 10px; }
  </style>
</head>
<body>
  <h2>Carrito</h2>
  <ul id="lista-carrito"></ul>

  <script>
    function mostrarCarrito(carrito) {
      const lista = document.getElementById("lista-carrito");
      lista.innerHTML = ""; // Limpia antes de agregar
      carrito.forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item.nombre} (x${item.cantidad})`;
        lista.appendChild(li);
      });
    }

    // Escuchar mensajes desde la pÃ¡gina principal
    window.addEventListener("message", (event) => {
      if (event.data.type === "actualizarCarrito") {
        mostrarCarrito(event.data.carrito);
      }
    });

    // Mostrar el carrito al cargar por primera vez
    const carritoInicial = JSON.parse(localStorage.getItem("carrito")) || [];
    mostrarCarrito(carritoInicial);
  </script>
</body>
</html>
